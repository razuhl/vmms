{"version":3,"sources":["C:/Programmieren/workspaces/NB/vmms/src/vmprops.js"],"names":["VMProps","dialogOrigin","prohibitedHosts","dialogSrc","props","values","callbacks","storageKey","title","dialogWindow","dialogWindowOrigin","dlgSize","dialogPublicKey","rsaKey","aesKey","onSave","init","newData","data","storedValues","name","undefined","GM_getMetadata","replace","GM_getValue","JSON","parse","_set","processCallbacks","menuCommand","GM_registerMenuCommand","_open","_get","addImpliedDefaultValues","defaultValue","cfg","p","default","Array","isArray","entry","value","_resetValue","sendMessage","iv","window","crypto","getRandomValues","Uint8Array","subtle","encrypt","then","ivEncrypted","TextEncoder","encode","stringify","encrypted","postMessage","token","catch","err","console","log","reportSuccess","originalLifecycle","validations","lifecycle","reportFailure","removeIrrelevantMessages","messages","propertyName","childLength","Object","keys","length","__isValid","__messages","processCallbacksLoop","currentValue","currentCallbacks","doValidators","doConverters","allValues","isArrayEntry","isValidSubtree","entries","index","nextMessages","property","nextCallback","validator","converter","isValidProperty","indx","messagesForEntries","isValidEntry","isValid","messagesForProperties","valuesToProcess","saveValues","newValues","ex","GM_setValue","errOnCallback","receivedMessage","closeDlg","document","querySelector","style","display","e","parentElement","removeChild","removeEventListener","listener","msg","type","origin","decrypt","privateKey","algorithm","TextDecoder","decode","handshakeListener","publicKey","source","generateKey","modulusLength","publicExponent","hash","keyPair","aesKeyLocal","wrapKey","aesKeyWrapped","passphrase","decrypted","addEventListener","sendConfiguration","async","key","listen","dialogPassphrase","domain","reg","test","alert","body","iframe","createElement","id","position","left","top","width","height","zIndex","frameBorder","scrolling","seamless","appendChild","src","arguments","this","open","get","set","resetValue","save"],"mappings":"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"}